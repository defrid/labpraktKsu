div
  form
    input(type="checkbox", ng-model="wtfEnabled")
    | Enable Web Tracing Framework
  br

  div(ng-show="wtfEnabled")
    form(ng-disabled="TS.traceStarted")
      | Format
      select(ng-model="wtf_trace_format", ng-options="v for v in ['binary', 'json']")

      br
      input(type="checkbox", ng-model="wtf_trace_disableProviders")
      | Disable providers

      br
      input(type="checkbox", ng-model="wtf_trace_provider_dom", ng-disabled="wtf_trace_disableProviders")
      | Provider.dom

      br
      input(type="checkbox", ng-model="wtf_trace_provider_chromeDebug", ng-disabled="wtf_trace_disableProviders")
      | Provider.chromeDebug

      br
      input(type="checkbox", ng-model="wtf_trace_provider_webworker", ng-disabled="wtf_trace_disableProviders")
      | Provider.webworker

      br
      input(type="checkbox", ng-model="wtf_trace_provider_xhr", ng-disabled="wtf_trace_disableProviders")
      | Provider.xhr

      br
      input(type="checkbox", ng-model="wtf_trace_provider_image", ng-disabled="wtf_trace_disableProviders")
      | Provider.image

      br
      br
      input(type="checkbox", ng-model="useHud")
      | Use HUD

      br
      | HUD mode
      select(ng-model="wtf_hud_app_mode", ng-options="v for v in ['page', 'remote']",
        ng-disabled="!useHud")

      br
      | HUD endpoint
      input(type="text", ng-model="wtf_hud_app_endpoint", ng-disabled="!useHud")

    br

  div
    | This will regenerate the main page with WTF initialization code and reload
    | the page. Can lead to crash on some browsers for some providers!
    | After enabling WTF press Apply before using it.
    | Make manual page reload after this to surely apply changes for providers.
    | Use this link&#x20;
    a(href="{{resetOptionsLink}}") {{resetOptionsLink}}
    |  to reset options in case if everything will go wrong.
    | {{applyOptionsStatus}}
    br
    button(type="button", ng-click="onApplyTraceOptions()")
      | Apply options

  br
  div(ng-show="wtfEnabled")
    button(type="button", ng-click="onEnableToggle()")
      | {{tracesMenuCaption}}

    | Status: {{tracesStatus}}.

    br
    br
    button(type="button", ng-click="onSendTraces()", ng-show="isSendVisible()")
      | Send Traces

    | {{sendStatus}}

  table.browseTable
    tr
      th Name
      th Size
      th Created Time
      th Actions

    tr(ng-repeat="row in getPortion(page) track by $index")
      td
        a(href="{{downloadLink + '/' + row.id}}", target="_blank") {{row.filename}}
      td {{row.length ? row.length : '(null)'}}
      td {{row.timestamp}}
      td
        a(href="", ng-click="onDeleteTrace(row.id, $index)") Delete

  div(ng-if="tableRows.length > 0")
    div page: {{page + 1}} / {{pageCount}}
    button(ng-mousedown="onPrevPage()", ng-disabled="page == 0") Prev
    button(ng-mousedown="onNextPage()", ng-disabled="page == (pageCount - 1)") Next
  div(ng-if="tableRows.length == 0")
    | {{downloadStatus}}